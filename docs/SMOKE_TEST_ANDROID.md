# ONDA Android Health Connect - Smoke Test Checklist

**–í–µ—Ä—Å–∏—è:** 1.0  
**–î–∞—Ç–∞:** November 2025  
**–¶–µ–ª—å:** –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ Google Health Connect –Ω–∞ —Ä–µ–∞–ª—å–Ω–æ–º Android —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ

---

## –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

### –£—Å—Ç—Ä–æ–π—Å—Ç–≤–æ
- ‚úÖ Android 14+ (API level 34+)
- ‚úÖ Google Health Connect —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω
- ‚úÖ –£—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –ø–æ–¥–∫–ª—é—á–µ–Ω–æ –∫ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç—É
- ‚úÖ USB Debugging –≤–∫–ª—é—á–µ–Ω (–¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –ª–æ–≥–æ–≤)

### –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
- ‚úÖ ONDA APK —Å–æ–±—Ä–∞–Ω —Å WebView bridge –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–µ–π
- ‚úÖ AndroidManifest.xml –≤–∫–ª—é—á–∞–µ—Ç Health Connect permissions
- ‚úÖ WebView JavaScript bridge –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –Ω–∞—Å—Ç—Ä–æ–µ–Ω

### –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ –í Health Connect –µ—Å—Ç—å —Ö–æ—Ç—è –±—ã –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –¥–∞–Ω–Ω—ã–µ:
  - Activity –¥–∞–Ω–Ω—ã–µ (—à–∞–≥–∏, –∫–∞–ª–æ—Ä–∏–∏)
  - Vitals –¥–∞–Ω–Ω—ã–µ (–ø—É–ª—å—Å, –¥–∞–≤–ª–µ–Ω–∏–µ)
  - Sleep –¥–∞–Ω–Ω—ã–µ (—Ö–æ—Ç—è –±—ã –æ–¥–Ω–∞ —Å–µ—Å—Å–∏—è —Å–Ω–∞)
  - Body –¥–∞–Ω–Ω—ã–µ (–≤–µ—Å)

---

## Test Case 1: Cold Start & Initial Load

**–¶–µ–ª—å:** –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω—É—é –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—é –ø–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏/–ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

### –®–∞–≥–∏:
1. **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å APK** –Ω–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ
2. **–ó–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ** –ø–µ—Ä–≤—ã–π —Ä–∞–∑
3. **–û—Ç–∫—Ä—ã—Ç—å Settings** (–∏–∫–æ–Ω–∫–∞ —à–µ—Å—Ç–µ—Ä–µ–Ω–∫–∏)
4. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ Health Connect –ø–∞–Ω–µ–ª–∏**

### –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:
- ‚úÖ –ö–Ω–æ–ø–∫–∞ "Connect Health Connect" –≤–∏–¥–Ω–∞ –∏ –∞–∫—Ç–∏–≤–Ω–∞
- ‚úÖ –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä —Å—Ç–∞—Ç—É—Å–∞ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç "Not connected"
- ‚úÖ –î–∞–Ω–Ω—ã–µ Health Connect –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è (–ø–∞–Ω–µ–ª—å –ø—É—Å—Ç–∞—è)
- ‚úÖ Debug panel –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç "No events yet"

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–æ–≤:
```bash
adb logcat | grep -i "HC"
```
–î–æ–ª–∂–Ω–æ –±—ã—Ç—å:
- `[HC] bridge initialized`
- –ù–ï–¢ –æ—à–∏–±–æ–∫ —Ç–∏–ø–∞ `undefined is not an object (evaluating 'window.Android')`

---

## Test Case 2: Permission Request Flow

**–¶–µ–ª—å:** –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è Health Connect

### –®–∞–≥–∏:
1. **–ù–∞–∂–∞—Ç—å "Connect Health Connect"**
2. **–î–æ–∂–¥–∞—Ç—å—Å—è –ø–æ—è–≤–ª–µ–Ω–∏—è —Å–∏—Å—Ç–µ–º–Ω–æ–≥–æ –¥–∏–∞–ª–æ–≥–∞** Health Connect permissions

### –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:
- ‚úÖ –û—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –Ω–∞—Ç–∏–≤–Ω—ã–π –¥–∏–∞–ª–æ–≥ Health Connect
- ‚úÖ –í –¥–∏–∞–ª–æ–≥–µ –ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω—ã –≤—Å–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –¥–∞–Ω–Ω—ã—Ö:
  - Activity (Steps, Calories, VO2 Max)
  - Heart rate
  - Blood pressure
  - SpO2
  - Body temperature
  - Sleep
  - Weight
  - Body fat
  - Mindfulness
  - Nutrition
  - Hydration
- ‚úÖ –ï—Å—Ç—å –∫–Ω–æ–ø–∫–∏ "Allow" –∏ "Deny"

### –î–µ–π—Å—Ç–≤–∏–µ:
- **–ù–∞–∂–∞—Ç—å "Allow"** –¥–ª—è –≤—Å–µ—Ö –∫–∞—Ç–µ–≥–æ—Ä–∏–π

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–æ–≤:
```bash
adb logcat | grep -i "HealthConnect"
```
–î–æ–ª–∂–Ω–æ –±—ã—Ç—å:
- `HealthConnect permissions granted: [list of permissions]`

---

## Test Case 3: First Data Load

**–¶–µ–ª—å:** –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø–æ–ª—É—á–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –ø–æ—Å–ª–µ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–∏—è —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–π

### –®–∞–≥–∏:
1. **–ü–æ—Å–ª–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è –¥–æ—Å—Ç—É–ø–∞** –¥–æ–∂–¥–∞—Ç—å—Å—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è UI (1-3 —Å–µ–∫—É–Ω–¥—ã)
2. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å Health Connect Compact Panel**
3. **–†–∞–∑–≤–µ—Ä–Ω—É—Ç—å Debug Panel** (–∫–Ω–æ–ø–∫–∞ "Expand")

### –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:

#### Main Panel:
- ‚úÖ –ö–Ω–æ–ø–∫–∞ –∏–∑–º–µ–Ω–∏–ª–∞—Å—å –Ω–∞ "Health Connect Connected" (–∑–µ–ª–µ–Ω–∞—è)
- ‚úÖ –ü–æ—è–≤–∏–ª–∞—Å—å –∫–Ω–æ–ø–∫–∞ "Disconnect"
- ‚úÖ Compact Panel –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º:
  - **–ê–∫—Ç–∏–≤–Ω–æ—Å—Ç—å:** Active Calories, VO‚ÇÇ Max, Steps
  - **–í–∏—Ç–∞–ª—å–Ω—ã–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏:** HR, BP, SpO2, Temperature
  - **–°–æ–Ω:** Sessions, Total duration, Deep/Light/REM stages
  - **–¢–µ–ª–æ:** Weight, Body Fat %, Lean mass
  - **Wellness:** Mindfulness minutes, Nutrition, Hydration

#### Debug Panel:
- ‚úÖ –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç 1 —Å–æ–±—ã—Ç–∏–µ
- ‚úÖ Event source: **"Android"** (–∑–µ–ª–µ–Ω—ã–π badge)
- ‚úÖ Event type: `hc-update`
- ‚úÖ Timestamp –≤ —Ñ–æ—Ä–º–∞—Ç–µ HH:MM:SS.mmm
- ‚úÖ "View payload" —Ä–∞—Å–∫—Ä—ã–≤–∞–µ—Ç JSON —Å –ø–æ–ª–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏

### Payload Validation:
–†–∞—Å–∫—Ä—ã—Ç—å payload –∏ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É:
```json
{
  "source": "health_connect",
  "timestamp": 1234567890,
  "activity": {
    "activeCaloriesBurned": <—á–∏—Å–ª–æ>,
    "vo2Max": <—á–∏—Å–ª–æ>,
    "steps": <—á–∏—Å–ª–æ>
  },
  "vitals": {
    "heartRate": <—á–∏—Å–ª–æ>,
    "bloodPressureSystolic": <—á–∏—Å–ª–æ>,
    "bloodPressureDiastolic": <—á–∏—Å–ª–æ>,
    "spo2": <—á–∏—Å–ª–æ>,
    "bodyTemperature": <—á–∏—Å–ª–æ>
  },
  "sleep": {
    "sessions": [
      {
        "start": <timestamp>,
        "end": <timestamp>,
        "duration": <—á–∏—Å–ª–æ>,
        "stages": {
          "deep": <—á–∏—Å–ª–æ>,
          "light": <—á–∏—Å–ª–æ>,
          "rem": <—á–∏—Å–ª–æ>,
          "awake": <—á–∏—Å–ª–æ>
        }
      }
    ]
  },
  "body": {
    "weight": <—á–∏—Å–ª–æ>,
    "bodyFatPercentage": <—á–∏—Å–ª–æ>,
    "leanBodyMass": <—á–∏—Å–ª–æ>
  },
  "wellness": {
    "mindfulnessMinutes": <—á–∏—Å–ª–æ>,
    "nutritionCalories": <—á–∏—Å–ª–æ>,
    "hydrationMl": <—á–∏—Å–ª–æ>
  }
}
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–æ–≤:
```bash
adb logcat | grep "hc-update"
```
–î–æ–ª–∂–Ω–æ –±—ã—Ç—å:
- JavaScript —Å–æ–±—ã—Ç–∏–µ `hc-update` dispatched
- JSON payload –≤–∏–¥–µ–Ω –≤ –ª–æ–≥–∞—Ö WebView

---

## Test Case 4: Data Persistence After Reload

**–¶–µ–ª—å:** –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –¥–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ localStorage –∏ –≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é—Ç—Å—è –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏

### –®–∞–≥–∏:
1. **–ó–∞–∫—Ä—ã—Ç—å Settings modal**
2. **–ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ** (—Å–≤–∞–π–ø –∏–∑ Recent Apps + –æ—Ç–∫—Ä—ã—Ç—å –∑–∞–Ω–æ–≤–æ)
3. **–û—Ç–∫—Ä—ã—Ç—å Settings** —Å–Ω–æ–≤–∞

### –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:
- ‚úÖ –ö–Ω–æ–ø–∫–∞ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç "Connect Health Connect" (–ù–ï "Connected")
  - ‚ÑπÔ∏è –≠—Ç–æ **–æ–∂–∏–¥–∞–µ–º–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ** - —Å–æ—Å—Ç–æ—è–Ω–∏–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –ù–ï —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è
- ‚úÖ Compact Panel **–ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø–æ—Å–ª–µ–¥–Ω–∏–µ –¥–∞–Ω–Ω—ã–µ** –∏–∑ localStorage
- ‚úÖ Source badge –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç "Android" –∏–ª–∏ "Debug" (–æ—Ç–∫—É–¥–∞ –±—ã–ª–∏ –¥–∞–Ω–Ω—ã–µ)
- ‚úÖ Debug Panel –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∏—Å—Ç–æ—Ä–∏—é —Å–æ–±—ã—Ç–∏–π (–µ—Å–ª–∏ –Ω–µ –±—ã–ª–∞ –æ—á–∏—â–µ–Ω–∞)

### –í–∞–∂–Ω–æ:
**Connected state intentionally resets** - —ç—Ç–æ –∑–∞—â–∏—Ç–∞ –æ—Ç false positives. –ü–æ—Å–ª–µ reload –Ω—É–∂–Ω–æ –∑–∞–Ω–æ–≤–æ –Ω–∞–∂–∞—Ç—å "Connect" –¥–ª—è live –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π.

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–æ–≤:
```bash
adb logcat | grep -E "(HC|localStorage)"
```
–î–æ–ª–∂–Ω–æ –±—ã—Ç—å:
- `localStorage.getItem('hc-lastUpdate')` —É—Å–ø–µ—à–Ω–æ
- –î–∞–Ω–Ω—ã–µ –¥–µ—Å–µ—Ä–∏–∞–ª–∏–∑—É—é—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

---

## Test Case 5: Reconnect After Reload

**–¶–µ–ª—å:** –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –º–æ–∂–Ω–æ –ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –ø–æ—Å–ª–µ reload –±–µ–∑ –ø–æ–≤—Ç–æ—Ä–Ω–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–π

### –®–∞–≥–∏:
1. **–ü–æ—Å–ª–µ reload** (–∏–∑ Test Case 4)
2. **–ù–∞–∂–∞—Ç—å "Connect Health Connect"** —Å–Ω–æ–≤–∞

### –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:
- ‚úÖ **–ù–ï–¢** –ø–æ–≤—Ç–æ—Ä–Ω–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–π (—É–∂–µ granted)
- ‚úÖ –°—Ä–∞–∑—É –ø—Ä–∏—Ö–æ–¥–∏—Ç –Ω–æ–≤–æ–µ —Å–æ–±—ã—Ç–∏–µ `hc-update`
- ‚úÖ Connected state –º–µ–Ω—è–µ—Ç—Å—è –Ω–∞ `true`
- ‚úÖ Debug Panel –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç **–Ω–æ–≤–æ–µ —Å–æ–±—ã—Ç–∏–µ** —Å –∞–∫—Ç—É–∞–ª—å–Ω—ã–º timestamp
- ‚úÖ –î–∞–Ω–Ω—ã–µ –º–æ–≥—É—Ç –æ–±–Ω–æ–≤–∏—Ç—å—Å—è (–µ—Å–ª–∏ –≤ Health Connect –∏–∑–º–µ–Ω–∏–ª–∏—Å—å)

---

## Test Case 6: Disconnect Flow

**–¶–µ–ª—å:** –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ –æ—Ç–∫–ª—é—á–µ–Ω–∏–µ –∏ –æ—á–∏—Å—Ç–∫—É –¥–∞–Ω–Ω—ã—Ö

### –®–∞–≥–∏:
1. **–ù–∞—Ö–æ–¥—è—Å—å –≤ connected —Å–æ—Å—Ç–æ—è–Ω–∏–∏**, –Ω–∞–∂–∞—Ç—å "Disconnect"

### –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:
- ‚úÖ Connected state: `false`
- ‚úÖ –ö–Ω–æ–ø–∫–∞ –º–µ–Ω—è–µ—Ç—Å—è –æ–±—Ä–∞—Ç–Ω–æ –Ω–∞ "Connect Health Connect"
- ‚úÖ Compact Panel **–æ—á–∏—â–∞–µ—Ç—Å—è** (–≤—Å–µ –¥–∞–Ω–Ω—ã–µ —É–¥–∞–ª–µ–Ω—ã)
- ‚úÖ Debug Panel **–æ—á–∏—â–∞–µ—Ç—Å—è** (history events —É–¥–∞–ª–µ–Ω—ã)
- ‚úÖ localStorage –æ—á–∏—â–µ–Ω

### –ü—Ä–æ–≤–µ—Ä–∫–∞ localStorage:
```javascript
// –í Chrome DevTools (inspect WebView):
localStorage.getItem('hc-lastUpdate')
// –î–æ–ª–∂–Ω–æ –≤–µ—Ä–Ω—É—Ç—å null
```

---

## Test Case 7: Multiple Connect/Disconnect Cycles

**–¶–µ–ª—å:** –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å –ø—Ä–∏ –ø–æ–≤—Ç–æ—Ä–Ω—ã—Ö –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è—Ö/–æ—Ç–∫–ª—é—á–µ–Ω–∏—è—Ö

### –®–∞–≥–∏:
1. **Connect** ‚Üí –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—É—á–µ–Ω—ã
2. **Disconnect** ‚Üí –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –æ—á–∏—â–µ–Ω—ã
3. **Connect** —Å–Ω–æ–≤–∞ ‚Üí –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—É—á–µ–Ω—ã
4. **Disconnect** —Å–Ω–æ–≤–∞ ‚Üí –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –æ—á–∏—â–µ–Ω—ã
5. **–ü–æ–≤—Ç–æ—Ä–∏—Ç—å —Ü–∏–∫–ª 3-5 —Ä–∞–∑**

### –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:
- ‚úÖ –ö–∞–∂–¥—ã–π —Ü–∏–∫–ª —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- ‚úÖ –ù–ï–¢ —É—Ç–µ—á–µ–∫ –ø–∞–º—è—Ç–∏ (heap size –Ω–µ —Ä–∞—Å—Ç–µ—Ç)
- ‚úÖ –ù–ï–¢ –¥—É–±–ª–∏—Ä—É—é—â–∏—Ö—Å—è event listeners
- ‚úÖ Debug Panel –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç –Ω–æ–≤—ã–µ —Å–æ–±—ã—Ç–∏—è

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–æ–≤:
```bash
adb logcat | grep -E "(HC|event listener)"
```
–ù–ï –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å:
- ‚ùå `Warning: multiple listeners registered`
- ‚ùå Memory warnings

---

## Test Case 8: Health Connect Data Updates

**–¶–µ–ª—å:** –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø–æ–ª—É—á–∞–µ—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –¥–∞–Ω–Ω—ã—Ö –≤ Health Connect

### –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞:
1. **–û—Ç–∫—Ä—ã—Ç—å Google Fit** –∏–ª–∏ –¥—Ä—É–≥–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
2. **–î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ** (–Ω–∞–ø—Ä–∏–º–µ—Ä, –ø—Ä–æ–π—Ç–∏ 100 —à–∞–≥–æ–≤, –∑–∞–ø–∏—Å–∞—Ç—å –≤–µ—Å)
3. **–í–µ—Ä–Ω—É—Ç—å—Å—è –≤ ONDA**

### –®–∞–≥–∏:
1. **–ù–∞—Ö–æ–¥—è—Å—å –≤ connected —Å–æ—Å—Ç–æ—è–Ω–∏–∏**, –Ω–∞–∂–∞—Ç—å "Connect" —Å–Ω–æ–≤–∞ (refresh)
2. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å Debug Panel**

### –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:
- ‚úÖ –ù–æ–≤–æ–µ —Å–æ–±—ã—Ç–∏–µ –ø–æ—è–≤–ª—è–µ—Ç—Å—è –≤ Debug Panel
- ‚úÖ Timestamp –æ–±–Ω–æ–≤–ª–µ–Ω
- ‚úÖ Compact Panel –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç **–æ–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ**
- ‚úÖ –ù–æ–≤—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –æ—Ç–ª–∏—á–∞—é—Ç—Å—è –æ—Ç –ø—Ä–µ–¥—ã–¥—É—â–∏—Ö

---

## Test Case 9: Empty Data Handling

**–¶–µ–ª—å:** –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω—É—é –æ–±—Ä–∞–±–æ—Ç–∫—É –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–∏—Ö –¥–∞–Ω–Ω—ã—Ö

### –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞:
1. **–û—á–∏—Å—Ç–∏—Ç—å –≤—Å–µ –¥–∞–Ω–Ω—ã–µ** –≤ Health Connect (Settings ‚Üí Apps ‚Üí Health Connect ‚Üí Storage ‚Üí Clear data)
2. **–ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å ONDA**

### –®–∞–≥–∏:
1. **Connect to Health Connect**
2. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å Compact Panel**

### –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:
- ‚úÖ Connected state: `true`
- ‚úÖ Compact Panel –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç `--` –¥–ª—è –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–∏—Ö –∑–Ω–∞—á–µ–Ω–∏–π
- ‚úÖ –ù–ï–¢ –æ—à–∏–±–æ–∫ –≤ Debug Panel
- ‚úÖ –ù–ï–¢ crashes

### –ü—Ä–æ–≤–µ—Ä–∫–∞ payload:
```json
{
  "source": "health_connect",
  "activity": null,  // –∏–ª–∏ –æ–±—ä–µ–∫—Ç —Å null –∑–Ω–∞—á–µ–Ω–∏—è–º–∏
  "vitals": null,
  "sleep": null,
  "body": null,
  "wellness": null
}
```

---

## Test Case 10: Background/Foreground Transitions

**–¶–µ–ª—å:** –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ–≤–µ–¥–µ–Ω–∏–µ –ø—Ä–∏ —Å–≤–æ—Ä–∞—á–∏–≤–∞–Ω–∏–∏/—Ä–∞–∑–≤–æ—Ä–∞—á–∏–≤–∞–Ω–∏–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

### –®–∞–≥–∏:
1. **Connect to Health Connect**
2. **–°–≤–µ—Ä–Ω—É—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ** (Home button)
3. **–ü–æ–¥–æ–∂–¥–∞—Ç—å 30 —Å–µ–∫—É–Ω–¥**
4. **–†–∞–∑–≤–µ—Ä–Ω—É—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ** –æ–±—Ä–∞—Ç–Ω–æ

### –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:
- ‚úÖ Connected state **–º–æ–∂–µ—Ç —Å–±—Ä–æ—Å–∏—Ç—å—Å—è** (—ç—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ)
- ‚úÖ –î–∞–Ω–Ω—ã–µ **–æ—Å—Ç–∞—é—Ç—Å—è** –≤ Compact Panel (–∏–∑ localStorage)
- ‚úÖ –ú–æ–∂–Ω–æ **reconnect** –±–µ–∑ –ø—Ä–æ–±–ª–µ–º
- ‚úÖ –ù–ï–¢ crashes

---

## Test Case 11: Permission Revocation

**–¶–µ–ª—å:** –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É –æ—Ç–∑—ã–≤–∞ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–π

### –®–∞–≥–∏:
1. **Connect to Health Connect**
2. **–û—Ç–∫—Ä—ã—Ç—å Android Settings** ‚Üí Apps ‚Üí Health Connect ‚Üí App permissions ‚Üí ONDA
3. **–û—Ç–∫–ª—é—á–∏—Ç—å –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è** (–Ω–∞–ø—Ä–∏–º–µ—Ä, Heart rate)
4. **–í–µ—Ä–Ω—É—Ç—å—Å—è –≤ ONDA**
5. **–ù–∞–∂–∞—Ç—å "Disconnect" –∏ –∑–∞—Ç–µ–º "Connect" —Å–Ω–æ–≤–∞**

### –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:
- ‚úÖ –ü–æ—è–≤–ª—è–µ—Ç—Å—è –¥–∏–∞–ª–æ–≥ –∑–∞–ø—Ä–æ—Å–∞ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–π **—Ç–æ–ª—å–∫–æ –¥–ª—è –æ—Ç–æ–∑–≤–∞–Ω–Ω—ã—Ö –∫–∞—Ç–µ–≥–æ—Ä–∏–π**
- ‚úÖ –ü–æ—Å–ª–µ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–∏—è - –¥–∞–Ω–Ω—ã–µ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è
- ‚úÖ –ï—Å–ª–∏ **–Ω–µ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–∏—Ç—å** - —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ –ø–æ–ª—è –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç `--`

---

## Test Case 12: Debug Event Trigger

**–¶–µ–ª—å:** –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–±–æ—Ç—É debug —Ä–µ–∂–∏–º–∞ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –±–µ–∑ Health Connect

### –®–∞–≥–∏:
1. **–û—Ç–∫—Ä—ã—Ç—å Debug Panel**
2. **–ù–∞–∂–∞—Ç—å –∫–Ω–æ–ø–∫—É "Trigger test event"** (–∏–∫–æ–Ω–∫–∞ RefreshCw)
3. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å Debug Panel**

### –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:
- ‚úÖ –ù–æ–≤–æ–µ —Å–æ–±—ã—Ç–∏–µ –ø–æ—è–≤–ª—è–µ—Ç—Å—è
- ‚úÖ Source badge: **"Debug"** (—Å–µ—Ä—ã–π)
- ‚úÖ Payload —Å–æ–¥–µ—Ä–∂–∏—Ç **—Å–ª—É—á–∞–π–Ω—ã–µ —Ç–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ**
- ‚úÖ Compact Panel **–æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è** —Å debug –¥–∞–Ω–Ω—ã–º–∏
- ‚úÖ Connected state: `true`

### Payload –ø—Ä–∏–º–µ—Ä:
```json
{
  "source": "debug",
  "timestamp": <current timestamp>,
  "activity": {
    "calories": <random 1500-2000>,
    "vo2_max": <random 40-60>,
    "steps": <random 5000-10000>
  },
  // ... –∏ –¥—Ä—É–≥–∏–µ —Å–ª—É—á–∞–π–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
}
```

---

## Test Case 13: Export Events

**–¶–µ–ª—å:** –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —ç–∫—Å–ø–æ—Ä—Ç –ª–æ–≥–æ–≤ —Å–æ–±—ã—Ç–∏–π

### –®–∞–≥–∏:
1. **–ù–∞–∫–æ–ø–∏—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å–æ–±—ã—Ç–∏–π** (Connect, Disconnect, Debug triggers)
2. **–ù–∞–∂–∞—Ç—å –∫–Ω–æ–ø–∫—É "Export"** (–∏–∫–æ–Ω–∫–∞ Download)

### –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:
- ‚úÖ –ë—Ä–∞—É–∑–µ—Ä —Å–∫–∞—á–∏–≤–∞–µ—Ç JSON —Ñ–∞–π–ª `hc-events-<timestamp>.json`
- ‚úÖ –§–∞–π–ª —Å–æ–¥–µ—Ä–∂–∏—Ç –º–∞—Å—Å–∏–≤ –≤—Å–µ—Ö —Å–æ–±—ã—Ç–∏–π
- ‚úÖ –ö–∞–∂–¥–æ–µ —Å–æ–±—ã—Ç–∏–µ –∏–º–µ–µ—Ç: id, timestamp, type, payload, source

---

## Test Case 14: Clear Events

**–¶–µ–ª—å:** –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ—á–∏—Å—Ç–∫—É –∏—Å—Ç–æ—Ä–∏–∏ —Å–æ–±—ã—Ç–∏–π

### –®–∞–≥–∏:
1. **–ù–∞–∫–æ–ø–∏—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å–æ–±—ã—Ç–∏–π**
2. **–ù–∞–∂–∞—Ç—å –∫–Ω–æ–ø–∫—É "Clear"** (–∏–∫–æ–Ω–∫–∞ Trash)

### –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:
- ‚úÖ Debug Panel –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç "No events yet"
- ‚úÖ Event counter: `0 events`
- ‚úÖ –ö–Ω–æ–ø–∫–∏ Export –∏ Clear —Å—Ç–∞–Ω–æ–≤—è—Ç—Å—è **disabled**

---

## Test Case 15: 50+ Events History

**–¶–µ–ª—å:** –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –Ω–∞ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–æ–±—ã—Ç–∏–π

### –®–∞–≥–∏:
1. **–ù–∞–∂–∞—Ç—å "Trigger test event"** 60+ —Ä–∞–∑ –ø–æ–¥—Ä—è–¥
2. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å Debug Panel**

### –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:
- ‚úÖ –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è **–º–∞–∫—Å–∏–º—É–º 50 —Å–æ–±—ã—Ç–∏–π**
- ‚úÖ –°—Ç–∞—Ä—ã–µ —Å–æ–±—ã—Ç–∏—è **–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É–¥–∞–ª—è—é—Ç—Å—è**
- ‚úÖ Counter –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç `50 events`
- ‚úÖ –ù–ï–¢ performance issues (scroll —Ä–∞–±–æ—Ç–∞–µ—Ç –ø–ª–∞–≤–Ω–æ)

---

## Known Issues & Edge Cases

### Issue 1: WebView JavaScript Bridge –Ω–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω
**–°–∏–º–ø—Ç–æ–º—ã:**
- –ö–Ω–æ–ø–∫–∞ "Connect" –Ω–µ —Ä–µ–∞–≥–∏—Ä—É–µ—Ç
- –õ–æ–≥–∏: `window.Android is undefined`

**–†–µ—à–µ–Ω–∏–µ:**
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ WebView JavaScript Interface –¥–æ–±–∞–≤–ª–µ–Ω:
  ```kotlin
  webView.addJavascriptInterface(HealthConnectBridge(), "Android")
  ```

### Issue 2: Permissions –Ω–µ –∑–∞–ø—Ä–∞—à–∏–≤–∞—é—Ç—Å—è
**–°–∏–º–ø—Ç–æ–º—ã:**
- –ù–∞–∂–∞—Ç–∏–µ "Connect" –Ω–µ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç –¥–∏–∞–ª–æ–≥

**–†–µ—à–µ–Ω–∏–µ:**
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å AndroidManifest.xml - –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å Health Connect permissions
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ `requestPermissions()` –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –≤ bridge

### Issue 3: –°–æ–±—ã—Ç–∏—è –Ω–µ –ø—Ä–∏—Ö–æ–¥—è—Ç
**–°–∏–º–ø—Ç–æ–º—ã:**
- Debug Panel –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç "No events yet" –ø–æ—Å–ª–µ Connect

**–†–µ—à–µ–Ω–∏–µ:**
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ bridge dispatch `hc-update` event:
  ```kotlin
  webView.evaluateJavascript(
    "window.dispatchEvent(new CustomEvent('hc-update', { detail: $json }))",
    null
  )
  ```

### Issue 4: –î–∞–Ω–Ω—ã–µ –Ω–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –ø–æ—Å–ª–µ reload
**–°–∏–º–ø—Ç–æ–º—ã:**
- –ü–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏ Compact Panel –ø—É—Å—Ç–∞—è

**–†–µ—à–µ–Ω–∏–µ:**
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ localStorage –¥–æ—Å—Ç—É–ø–µ–Ω –≤ WebView:
  ```kotlin
  webView.settings.domStorageEnabled = true
  ```

---

## Performance Metrics

### Expected Load Times:
- ‚ù§Ô∏è **Cold start:** < 2 seconds
- üîÑ **Permission dialog:** < 1 second
- üìä **First data load:** 1-3 seconds
- üîÑ **Reconnect:** < 1 second
- üíæ **Persist to localStorage:** < 100ms

### Memory Usage:
- üì± **Heap size:** < 50 MB
- üì¶ **localStorage size:** < 1 MB
- üî¢ **Event history:** max 50 events

---

## Success Criteria

Smoke-test —Å—á–∏—Ç–∞–µ—Ç—Å—è **PASSED** –µ—Å–ª–∏:
- ‚úÖ –í—Å–µ 15 Test Cases –ø—Ä–æ—Ö–æ–¥—è—Ç —É—Å–ø–µ—à–Ω–æ
- ‚úÖ –ù–ï–¢ crashes
- ‚úÖ –ù–ï–¢ JavaScript errors –≤ WebView console
- ‚úÖ –ù–ï–¢ Android native errors –≤ logcat
- ‚úÖ –î–∞–Ω–Ω—ã–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è, —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –∏ –æ—á–∏—â–∞—é—Ç—Å—è
- ‚úÖ Debug Panel –ø–æ–º–æ–≥–∞–µ—Ç –æ—Ç–ª–∞–¥–∫–µ
- ‚úÖ Performance –≤ –ø—Ä–µ–¥–µ–ª–∞—Ö –æ–∂–∏–¥–∞–µ–º—ã—Ö –º–µ—Ç—Ä–∏–∫

---

## Appendix: Useful Commands

### Check WebView logs:
```bash
adb logcat | grep -i "chromium"
```

### Check Health Connect logs:
```bash
adb logcat | grep -i "HealthConnect"
```

### Inspect WebView (Chrome DevTools):
1. Chrome ‚Üí `chrome://inspect`
2. Find ONDA WebView
3. Click "inspect"
4. Console tab –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ JavaScript

### Clear app data:
```bash
adb shell pm clear com.onda.app
```

### Force stop app:
```bash
adb shell am force-stop com.onda.app
```

---

**–¢–µ—Å—Ç–∏—Ä–æ–≤—â–∏–∫:** ________________  
**–î–∞—Ç–∞ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:** ________________  
**–í–µ—Ä—Å–∏—è APK:** ________________  
**Android –≤–µ—Ä—Å–∏—è:** ________________  
**–£—Å—Ç—Ä–æ–π—Å—Ç–≤–æ:** ________________  

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** ‚òê PASS  ‚òê FAIL  

**–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏:**
